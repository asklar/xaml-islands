<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CppXAML: CppXAML</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CppXAML
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">CppXAML </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_docs_README"></a> <a href="https://github.com/asklar/xaml-islands">CppXAML</a> aims to make usage of XAML and XAML islands in C++ more natural and idiomatic.</p>
<p ><a href="https://docs.microsoft.com/windows/uwp/cpp-and-winrt-apis/">C++/WinRT</a> provides a projection of a Windows Runtime component's API, but one that isnâ€™t always easy to use (esp. for XAML). It also is unopinionated about how to implement properties. This added flexibility can be useful, but is often unnecessary and results in overly-verbose code.</p>
<p >CppXAML provides several kinds of higher-level helpers. Some usage information can be found below; for more details, see the <a href="https://asklar.github.io/xaml-islands">API reference</a>.</p>
<p >GitHub repo: <a href="https://github.com/asklar/xaml-islands">https://github.com/asklar/xaml-islands</a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Table of Contents</h1>
<ul>
<li><a class="el" href="index.html#facilities-for-writing-xaml-controls">Facilities for writing XAML controls</a></li>
<li><a class="el" href="index.html#facilities-for-using-xaml-controls">Facilities for using XAML controls</a></li>
<li><a class="el" href="index.html#facilities-for-using-xaml-islands">Facilities for using XAML islands</a></li>
</ul>
<h1><a class="anchor" id="facilities-for-writing-xaml-controls"></a>
Facilities for writing XAML controls</h1>
<h2><a class="anchor" id="autotoc_md2"></a>
Property and event helpers</h2>
<ul>
<li><a href="./structcppxaml_1_1_xaml_property.html"><code>XamlProperty&lt;T&gt;</code></a></li>
<li><a href="./structcppxaml_1_1_simple_notify_property_changed.html"><code>SimpleNotifyPropertyChanged&lt;F&gt;</code></a></li>
<li><a href="./structcppxaml_1_1_xaml_property_with_n_p_c.html"><code>XamlPropertyWithNPC&lt;T&gt;</code></a></li>
<li><a href="./structcppxaml_1_1_xaml_event.html"><code>XamlEvent&lt;T&gt;</code></a></li>
<li><a href="./structcppxaml_1_1_typed_xaml_event.html"><code>TypedXamlEvent&lt;TSender, TArgs&gt;</code></a></li>
</ul>
<p >These provide stock/simple property objects that remove the need for verbose hand-written options.</p>
<h4><a class="anchor" id="autotoc_md3"></a>
Example</h4>
<p >Suppose you have the following Page defined in IDL: </p><div class="fragment"><div class="line"><span class="keyword">namespace </span>Foo {</div>
<div class="line">  runtimeclass MainPage : Windows.UI.Xaml.Controls.Page, Windows.UI.Xaml.Data.INotifyPropertyChanged {</div>
<div class="line">    MainPage();</div>
<div class="line">    <span class="keyword">event</span> Windows.Foundation.EventHandler&lt;String&gt; OkClicked;</div>
<div class="line">    String InterfaceStr;</div>
<div class="line">    Int32 MyInt;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p ><b>Before (plain C++/WinRT)</b> </p><div class="fragment"><div class="line"><span class="keyword">struct </span>MainPage : MainPageT&lt;MainPage&gt; { </div>
<div class="line">  winrt::event&lt;winrt::Windows::Foundation::EventHandler&lt;winrt::hstring&gt;&gt; m_okClicked{};</div>
<div class="line">  winrt::event_token OkClicked(winrt::Windows::Foundation::EventHandler&lt;winrt::hstring&gt; h) {</div>
<div class="line">    <span class="keywordflow">return</span> m_okClicked.add(h);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordtype">void</span> OkClicked(winrt::event_token token) {</div>
<div class="line">    m_okClicked.remove(token);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  winrt::hstring m_InterfaceStr;</div>
<div class="line">  winrt::hstring InterfaceStr() {</div>
<div class="line">    <span class="keywordflow">return</span> m_InterfaceStr;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordtype">void</span> InterfaceStr(winrt::hstring v) {</div>
<div class="line">    m_InterfaceStr = v;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  winrt::event&lt;winrt::Windows::UI::Xaml::Data::PropertyChangedEventHandler&gt; m_propertyChanged;</div>
<div class="line"> </div>
<div class="line">  winrt::event_token PropertyChanged(winrt::Windows::Xaml::Data::PropertyChangedEventHandler <span class="keyword">const</span>&amp; value) {</div>
<div class="line">    <span class="keywordflow">return</span> m_propertyChanged.add(value);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordtype">void</span> PropertyChanged(winrt::event_token <span class="keyword">const</span>&amp; token) {</div>
<div class="line">    m_propertyChanged.remove(token);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  int32_t m_MyInt;</div>
<div class="line">  int32_t MyInt() {</div>
<div class="line">    <span class="keywordflow">return</span> m_MyInt;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordtype">void</span> MyInt(int32_t v) { </div>
<div class="line">    m_MyInt = v; </div>
<div class="line">    m_propertyChanged(*<span class="keyword">this</span>, { L<span class="stringliteral">&quot;MyInt&quot;</span> });</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">};</div>
</div><!-- fragment --><p ><b>After (with CppXaml)</b> </p><div class="fragment"><div class="line"><span class="keyword">struct </span>MainPage : MainPageT&lt;MainPage&gt;, <a class="code hl_struct" href="structcppxaml_1_1_simple_notify_property_changed.html">cppxaml::SimpleNotifyPropertyChanged</a>&lt;MainPage&gt; {</div>
<div class="line">  <a class="code hl_struct" href="structcppxaml_1_1_xaml_event.html">cppxaml::XamlEvent&lt;winrt::hstring&gt;</a> OkClicked;</div>
<div class="line">  <a class="code hl_struct" href="structcppxaml_1_1_xaml_property.html">cppxaml::XamlProperty&lt;winrt::hstring&gt;</a> InterfaceStr;</div>
<div class="line">  <a class="code hl_struct" href="structcppxaml_1_1_xaml_property_with_n_p_c.html">cppxaml::XamlPropertyWithNPC&lt;int32_t&gt;</a> MyInt;</div>
<div class="line">  MainPage() : <a class="code hl_define" href="_xaml_property_8h.html#a6f8179c8087199cdf981985f77208549">INIT_PROPERTY</a>(MyInt, 42) {</div>
<div class="line">    InitializeComponent();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Properties can be assigned to and read from with the operator= too!</span></div>
<div class="line">    InterfaceStr = winrt::hstring{ L<span class="stringliteral">&quot;This string comes from the implementation&quot;</span> };</div>
<div class="line">    winrt::hstring v = InterfaceStr;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> MyPage::DoSomething() {</div>
<div class="line">    <span class="comment">// when MyInt is modified, it automatically sends NPC!</span></div>
<div class="line">    MyInt = 39; </div>
<div class="line"> </div>
<div class="line">    <span class="comment">// if we want to manually send a notification:</span></div>
<div class="line">    RaisePropertyChanged(L<span class="stringliteral">&quot;MyInt&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="ttc" id="a_xaml_property_8h_html_a6f8179c8087199cdf981985f77208549"><div class="ttname"><a href="_xaml_property_8h.html#a6f8179c8087199cdf981985f77208549">INIT_PROPERTY</a></div><div class="ttdeci">#define INIT_PROPERTY(NAME, VALUE)</div><div class="ttdoc">use this to initialize a cppxaml::XamlPropertyWithNPC in your class constructor.</div><div class="ttdef"><b>Definition:</b> XamlProperty.h:201</div></div>
<div class="ttc" id="astructcppxaml_1_1_simple_notify_property_changed_html"><div class="ttname"><a href="structcppxaml_1_1_simple_notify_property_changed.html">cppxaml::SimpleNotifyPropertyChanged</a></div><div class="ttdoc">Helper base class to inherit from to have a simple implementation of INotifyPropertyChanged.</div><div class="ttdef"><b>Definition:</b> XamlProperty.h:78</div></div>
<div class="ttc" id="astructcppxaml_1_1_xaml_event_html"><div class="ttname"><a href="structcppxaml_1_1_xaml_event.html">cppxaml::XamlEvent</a></div><div class="ttdoc">A default event handler that maps to Windows.Foundation.EventHandler.</div><div class="ttdef"><b>Definition:</b> XamlProperty.h:50</div></div>
<div class="ttc" id="astructcppxaml_1_1_xaml_property_html"><div class="ttname"><a href="structcppxaml_1_1_xaml_property.html">cppxaml::XamlProperty</a></div><div class="ttdoc">Implements a simple property (without change notifications).</div><div class="ttdef"><b>Definition:</b> XamlProperty.h:127</div></div>
<div class="ttc" id="astructcppxaml_1_1_xaml_property_with_n_p_c_html"><div class="ttname"><a href="structcppxaml_1_1_xaml_property_with_n_p_c.html">cppxaml::XamlPropertyWithNPC</a></div><div class="ttdoc">Implements a property type with notifications.</div><div class="ttdef"><b>Definition:</b> XamlProperty.h:161</div></div>
</div><!-- fragment --><h1><a class="anchor" id="facilities-for-using-xaml-controls"></a>
Facilities for using XAML controls</h1>
<h2><a class="anchor" id="autotoc_md4"></a>
Control helpers</h2>
<p >CppXAML includes some primitives to make it more natural to write XAML UI in code.</p>
<h3><a class="anchor" id="autotoc_md5"></a>
xaml Namespace alias</h3>
<p >Since we want CppXAML to be future proof and work with WinUI 3, CppXAML creates a namespace alias <code>cppxaml::xaml</code> which points at either <code>Windows::UI::Xaml</code> or <code>Microsoft::UI::Xaml</code> for system XAML or WinUI 3, respectively.</p>
<h3><a class="anchor" id="autotoc_md6"></a>
Builder-style programming</h3>
<p >C++/WinRT enables setting properties on a type by calling a property setter method, e.g. <code>myTextBlock.Text(L"text");</code>. If you then want to set another property, then you have to make another call <code>myTextBlock.XYZ(...);</code>. This can get verbose when having to set multiple properties. CppXAML enables writing builder-style code instead of the former imperative-style:</p>
<p ><b>Before (plain C++/WinRT)</b> </p><div class="fragment"><div class="line"><span class="keyword">auto</span> myTextBlock = winrt::Windows::UI::Xaml::Controls::TextBlock{};</div>
<div class="line">myTextBlock.Text(L<span class="stringliteral">&quot;Hello world&quot;</span>);</div>
<div class="line">myTextBlock.Margin(winrt::Windows::UI::Xaml::ThicknessHelper::FromUniformLength(4));</div>
<div class="line">myTextBlock.Padding(winrt::Windows::UI::Xaml::ThicknessHelper::FromUniformLength(6));</div>
<div class="line">myTextBlock.Name(L<span class="stringliteral">&quot;myTB&quot;</span>);</div>
</div><!-- fragment --><p ><b>After (with CppXAML)</b> </p><div class="fragment"><div class="line"><span class="keyword">auto</span> myTextBlock = <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;Hello world&quot;</span>)</div>
<div class="line">                    .Margin(4)</div>
<div class="line">                    .Padding(6)</div>
<div class="line">                    .Name(L<span class="stringliteral">&quot;myTB&quot;</span>);</div>
<div class="ttc" id="anamespacecppxaml_html_afafed16f54ca92b64c37bff36e938a16"><div class="ttname"><a href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a></div><div class="ttdeci">TextBlock(std::wstring_view text)</div><div class="ttdoc">Creates a TextBlock from its text content.</div><div class="ttdef"><b>Definition:</b> Controls.h:588</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md7"></a>
TextBlock</h3>
<p >Most commonly, you will want to construct a <code>TextBlock</code> from a string of text. This can be a bit cumbersome if you are using C++/WinRT directly. With cppxaml, as you've seen above, you can just write: </p><div class="fragment"><div class="line"><span class="keyword">auto</span> tb = <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;Hello&quot;</span>);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md8"></a>
StackPanel</h3>
<p >Panels in XAML can have zero or more children. CppXAML makes it easy to naturally describe a panel's children with an initializer list. For example:</p>
<p ><b>Before (plain C++/WinRT)</b> </p><div class="fragment"><div class="line"><span class="keyword">auto</span> sp = winrt::Windows::UI::Xaml::Controls::StackPanel();</div>
<div class="line"><span class="keyword">auto</span> tb1 = winrt::Windows::UI::Xaml::Controls::TextBlock();</div>
<div class="line">tb1.Text(L<span class="stringliteral">&quot;Hello&quot;</span>);</div>
<div class="line"><span class="keyword">auto</span> tb2 = winrt::Windows::UI::Xaml::Controls::TextBlock();</div>
<div class="line">tb2.Text(L<span class="stringliteral">&quot;world!&quot;</span>);</div>
<div class="line">sp.Children().Append(tb1);</div>
<div class="line">sp.Children().Append(tb2);</div>
</div><!-- fragment --><p ><b>After (with CppXaml)</b> </p><div class="fragment"><div class="line"><span class="keyword">auto</span> sp = <a class="code hl_function" href="namespacecppxaml.html#a4f19238f531dcc396954a81f0dbc75b1">cppxaml::StackPanel</a>({</div>
<div class="line">  <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;Hello&quot;</span>),</div>
<div class="line">  <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;world!&quot;</span>)</div>
<div class="line">  });</div>
<div class="ttc" id="anamespacecppxaml_html_a4f19238f531dcc396954a81f0dbc75b1"><div class="ttname"><a href="namespacecppxaml.html#a4f19238f531dcc396954a81f0dbc75b1">cppxaml::StackPanel</a></div><div class="ttdeci">auto StackPanel(const std::initializer_list&lt; cppxaml::xaml::UIElement &gt; &amp;elems)</div><div class="ttdoc">Creates a StackPanel.</div><div class="ttdef"><b>Definition:</b> Controls.h:483</div></div>
</div><!-- fragment --><p >You can also set its <code>Orientation</code>: </p><div class="fragment"><div class="line"><span class="keyword">auto</span> sp <a class="code hl_function" href="namespacecppxaml.html#a4f19238f531dcc396954a81f0dbc75b1">cppxaml::StackPanel</a>({</div>
<div class="line">    <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;Hello&quot;</span>),</div>
<div class="line">    <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;world!&quot;</span>).Name(L<span class="stringliteral">&quot;worldTB&quot;</span>)</div>
<div class="line">  }).Orientation(cppxaml::xaml::Controls::Orientation::Horizontal);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md9"></a>
ContentControl (Button, etc.)</h3>
<p >Sub-classes of XAML's <code>ContentControl</code> enable nesting one control into another via the <code>Content</code> property. CppXAML makes this easier: </p><div class="fragment"><div class="line"><span class="keyword">auto</span> scrollViewer = cppxaml::MakeContentControl&lt;cppxaml::xaml::Controls::ScrollViewer&gt;({</div>
<div class="line">  <a class="code hl_function" href="namespacecppxaml.html#a4f19238f531dcc396954a81f0dbc75b1">cppxaml::StackPanel</a>({</div>
<div class="line">    <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;Hello&quot;</span>),</div>
<div class="line">    <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;world!&quot;</span>).Name(L<span class="stringliteral">&quot;worldTB&quot;</span>)</div>
<div class="line">  })</div>
<div class="line">});</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md10"></a>
Locating elements by name</h3>
<p >Sometimes you will need to perform some operation on an element that is deeply nested in a builder-style declaration. You can use <code>FindChildByName</code> to find an element in a XAML tree with a given name: </p><div class="fragment"><div class="line"><span class="keyword">auto</span> worldTB = cppxaml::FindChildByName&lt;Controls::TextBlock&gt;(*scrollViewer, L<span class="stringliteral">&quot;worldTB&quot;</span>);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md11"></a>
Grid</h3>
<p >Declaring a <code>Grid</code> in XAML via code is cumbersome as one has to create and set its <code>RowDefinitions</code> and <code>ColumnDefinitions</code>.</p>
<p ><b>Before (plain C++/WinRT)</b> </p><div class="fragment"><div class="line">winrt::Windows::UI::Xaml::Controls::Grid g;</div>
<div class="line"><span class="keyword">auto</span> rd1 = winrt::Windows::UI::Xaml::Controls::RowDefinition();</div>
<div class="line">rd1.Height(winrt::Windows::UI::Xaml::GridLengthHelper::FromPixels(40));</div>
<div class="line"><span class="keyword">auto</span> rd2 = winrt::Windows::UI::Xaml::Controls::RowDefinition();</div>
<div class="line">rd2.Height(winrt::Windows::UI::Xaml::GridLengthHelper::FromValueAndType(1, </div>
<div class="line">    winrt::Windows::UI::Xaml::GridUnitType::Star));</div>
<div class="line">g.RowDefinitions().Append(rd1);</div>
<div class="line">g.RowDefinitions().Append(rd2);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> cd1 = winrt::Windows::UI::Xaml::Controls::ColumnDefinition();</div>
<div class="line">cd1.Width(winrt::Windows::UI::Xaml::GridLengthHelper::Auto());</div>
<div class="line"><span class="keyword">auto</span> cd2 = winrt::Windows::UI::Xaml::Controls::ColumnDefinition();</div>
<div class="line">cd2.Width(winrt::Windows::UI::Xaml::GridLengthHelper::Auto());</div>
<div class="line">g.ColumnDefinitions().Append(cd1);</div>
<div class="line">g.ColumnDefinitions().Append(cd2);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> tb1 = winrt::Windows::UI::Xaml::Controls::TextBlock();</div>
<div class="line">tb1.Text(L<span class="stringliteral">&quot;first&quot;</span>);</div>
<div class="line">tb1.SetValue(winrt::Windows::UI::Xaml::Controls::Grid::RowProperty(), winrt::box_value(0));</div>
<div class="line">tb1.SetValue(winrt::Windows::UI::Xaml::Controls::Grid::ColumnProperty(), winrt::box_value(0));</div>
<div class="line">g.Children().Append(tb1);</div>
<div class="line"><span class="comment">// repeat 3 more times...   :-(</span></div>
</div><!-- fragment --><p ><b>After (with CppXaml)</b> </p><div class="fragment"><div class="line"><span class="keyword">auto</span> grid = <a class="code hl_function" href="namespacecppxaml.html#a31308a6e8132db9b1d292159a25452e3">cppxaml::Grid</a>({<span class="stringliteral">&quot;40, *&quot;</span>}, {<span class="stringliteral">&quot;Auto, Auto&quot;</span>}, {</div>
<div class="line">                {0, 0, <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;first&quot;</span>) },</div>
<div class="line">                {0, 1, <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;second&quot;</span>) },</div>
<div class="line">                {1, 0, <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;third&quot;</span>) },</div>
<div class="line">                {1, 1, <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;fourth&quot;</span>) },</div>
<div class="line">                }),</div>
<div class="ttc" id="anamespacecppxaml_html_a31308a6e8132db9b1d292159a25452e3"><div class="ttname"><a href="namespacecppxaml.html#a31308a6e8132db9b1d292159a25452e3">cppxaml::Grid</a></div><div class="ttdeci">Grid(details::GridRows gr, cppxaml::details::GridColumns gc, TElements &amp;&amp;elems)</div><div class="ttdoc">Creates a Grid with the specified rows, columns, and children.</div><div class="ttdef"><b>Definition:</b> Controls.h:508</div></div>
</div><!-- fragment --><p >Here we defined a 2x2 <code>Grid</code>. The rows have heights of 40 px and <code>*</code>, and the columns are <code>Auto</code>. Then each child of the Grid is added in the cell designated by each entry in the initializer list, read as "row, column, child".</p>
<p >In addition to the string syntax (which requires some parsing/tokenizing), this also works: </p><div class="fragment"><div class="line"><span class="keyword">auto</span> grid = <a class="code hl_function" href="namespacecppxaml.html#a31308a6e8132db9b1d292159a25452e3">cppxaml::Grid</a>({40, {<span class="stringliteral">&quot;*&quot;</span>}}, {{<span class="stringliteral">&quot;Auto&quot;</span>}, {<span class="stringliteral">&quot;Auto&quot;</span>}}, {</div>
<div class="line">                {0, 0, <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;first&quot;</span>) },</div>
<div class="line">                {0, 1, <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;second&quot;</span>) },</div>
<div class="line">                {1, 0, <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;third&quot;</span>) },</div>
<div class="line">                {1, 1, <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;fourth&quot;</span>) },</div>
<div class="line">                }),</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md12"></a>
Attached properties</h3>
<p >You can set arbitrary dependency properties, including attached properties, on a cppxaml wrapper:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> tb = <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(L<span class="stringliteral">&quot;something&quot;</span>)</div>
<div class="line">                    .Set(Grid::RowProperty(), 1)</div>
<div class="line">                    .Set(Grid::ColumnSpanProperty(), 2);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md13"></a>
AutoSuggestBox</h3>
<p >You can easily create an <code>AutoSuggestBox</code> from a <code>std::vector&lt;std::wstring&gt;</code>; make sure the vector's lifetime extends for at least as long as the XAML UI is up.</p>
<p ><code>EnableDefaultSearch()</code> will provide a reasonable default search experience (filters the list of items down to those that contain the search string). This behavior is case insensitive by default, but can be made case sensitive by passing <code>false</code>.</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> asb = <a class="code hl_function" href="namespacecppxaml.html#ab6d018d7f1260bc38e9535c27094a490">cppxaml::AutoSuggestBox</a>(GetFontFamilies())</div>
<div class="line">                    .EnableDefaultSearch()</div>
<div class="line">                    .Margin(0, 16, 0, 4)</div>
<div class="line">                    .Name(L<span class="stringliteral">&quot;fontTB&quot;</span>);</div>
<div class="ttc" id="anamespacecppxaml_html_ab6d018d7f1260bc38e9535c27094a490"><div class="ttname"><a href="namespacecppxaml.html#ab6d018d7f1260bc38e9535c27094a490">cppxaml::AutoSuggestBox</a></div><div class="ttdeci">auto AutoSuggestBox(const TItems &amp;svs)</div><div class="ttdoc">Creates an AutoSuggestBox from a list of items.</div><div class="ttdef"><b>Definition:</b> Controls.h:578</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md14"></a>
Visual State change notifications</h3>
<p >You can easily set up visual state change notifications:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> button = <a class="code hl_function" href="namespacecppxaml.html#a200ac8a2b9983470d2f7f1c060f59fda">cppxaml::Button</a>(L<span class="stringliteral">&quot;click me&quot;</span>)</div>
<div class="line">    .VisualStates( {</div>
<div class="line">        { L<span class="stringliteral">&quot;PointerOver&quot;</span>, [](<span class="keyword">auto</span>&amp;sender, cppxaml::xaml::VisualStateChangedEventArgs args) {</div>
<div class="line">            <span class="keyword">auto</span> x = args.NewState().Name();</div>
<div class="line">            <span class="keyword">auto</span> button = sender.as&lt;Controls::Button&gt;();</div>
<div class="line">            button.Content(winrt::box_value(x));</div>
<div class="line">        } },</div>
<div class="line">        { L<span class="stringliteral">&quot;Normal&quot;</span>, [](<span class="keyword">auto</span>&amp;sender, <span class="keyword">auto</span>&amp;) {</div>
<div class="line">            <span class="keyword">auto</span> button = sender.as&lt;Controls::Button&gt;();</div>
<div class="line">            button.Content(winrt::box_value(L<span class="stringliteral">&quot;click me&quot;</span>));</div>
<div class="line">        } },</div>
<div class="line">        { L<span class="stringliteral">&quot;Pressed&quot;</span>, [](<span class="keyword">auto</span>&amp; sender, <span class="keyword">auto</span>&amp;) {</div>
<div class="line">            <span class="keyword">auto</span> button = sender.as&lt;Controls::Button&gt;();</div>
<div class="line">            button.Content(winrt::box_value(L<span class="stringliteral">&quot;pressed&quot;</span>));</div>
<div class="line">        } },</div>
<div class="line">    });</div>
<div class="ttc" id="anamespacecppxaml_html_a200ac8a2b9983470d2f7f1c060f59fda"><div class="ttname"><a href="namespacecppxaml.html#a200ac8a2b9983470d2f7f1c060f59fda">cppxaml::Button</a></div><div class="ttdeci">auto Button(C c)</div><div class="ttdoc">Creates a Button.</div><div class="ttdef"><b>Definition:</b> Controls.h:602</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md15"></a>
Initializing Panels from collections</h3>
<p >As we saw earlier, you can initialize a panel from its children. You can also use transforms, to map elements from a data model into its corresponding view.</p>
<p >For example: </p><div class="fragment"><div class="line"><span class="keyword">auto</span> strs = std::vector&lt;std::wstring&gt;{ L<span class="stringliteral">&quot;first&quot;</span>, L<span class="stringliteral">&quot;second&quot;</span>, L<span class="stringliteral">&quot;third&quot;</span>, L<span class="stringliteral">&quot;fourth&quot;</span> };</div>
<div class="line"><span class="keyword">auto</span> grid = <a class="code hl_function" href="namespacecppxaml.html#a31308a6e8132db9b1d292159a25452e3">cppxaml::Grid</a>({<span class="stringliteral">&quot;40, *&quot;</span>}, {<span class="stringliteral">&quot;Auto, Auto&quot;</span>},</div>
<div class="line">     <a class="code hl_function" href="namespacecppxaml_1_1utils.html#ade2530c1a3c7013fc9a488200c73029c">cppxaml::utils::transform_with_index</a>(strs, [](<span class="keyword">const</span> std::wstring&amp; t, <span class="keyword">auto</span> index) {</div>
<div class="line">                <span class="keywordflow">return</span> <a class="code hl_function" href="namespacecppxaml.html#afafed16f54ca92b64c37bff36e938a16">cppxaml::TextBlock</a>(t)</div>
<div class="line">                         .Set(Grid::RowProperty(), (<span class="keywordtype">int</span>)index / 2)</div>
<div class="line">                         .Set(Grid::ColumnProperty(), (<span class="keywordtype">int</span>)index % 2);</div>
<div class="line">                };</div>
<div class="line">            })</div>
<div class="line">          );</div>
<div class="ttc" id="anamespacecppxaml_1_1utils_html_ade2530c1a3c7013fc9a488200c73029c"><div class="ttname"><a href="namespacecppxaml_1_1utils.html#ade2530c1a3c7013fc9a488200c73029c">cppxaml::utils::transform_with_index</a></div><div class="ttdeci">auto transform_with_index(TInContainer const &amp;iterable, UnaryOp &amp;&amp;unary_op)</div><div class="ttdoc">Maps each element in a container via a unary operation on each element.</div><div class="ttdef"><b>Definition:</b> utils.h:100</div></div>
</div><!-- fragment --><p >For more details see <code>cppxaml::transform</code> and <code>cppxaml::transform_with_index</code> in <a href="./namespacecppxaml_1_1utils.html">utils.h</a>.</p>
<h3><a class="anchor" id="autotoc_md16"></a>
Menus and icons</h3>
<p >You can easily compose MenuFlyoutItems into a MenuFlyout, and also have a centralized menu handler callback: </p><div class="fragment"><div class="line"><span class="keyword">auto</span> menuFlyout = <a class="code hl_function" href="namespacecppxaml.html#a9e90daf79a70dbec5ad9370a8d4c841b">cppxaml::MenuFlyout</a>(</div>
<div class="line">                    <a class="code hl_function" href="namespacecppxaml.html#af4fb029e27a18536dc26d82d5b79ae91">cppxaml::MenuFlyoutItem</a>(L<span class="stringliteral">&quot;Exit&quot;</span>)</div>
<div class="line">                        .IconElement(<a class="code hl_function" href="namespacecppxaml.html#aae0f96500de5fef24821331713f3cf1f">cppxaml::FontIcon</a>(0xe8bb))</div>
<div class="line">                        .Click([hwnd = xw-&gt;hwnd()](<span class="keyword">auto</span>&amp;...) {</div>
<div class="line">                            DestroyWindow(hwnd);</div>
<div class="line">                        }),</div>
<div class="line">                    <a class="code hl_function" href="namespacecppxaml.html#af4fb029e27a18536dc26d82d5b79ae91">cppxaml::MenuFlyoutItem</a>(L<span class="stringliteral">&quot;Cancel&quot;</span>)</div>
<div class="line">                        .IconElement(<a class="code hl_function" href="namespacecppxaml.html#aae0f96500de5fef24821331713f3cf1f">cppxaml::FontIcon</a>(L<span class="stringliteral">&quot;\xE8A7&quot;</span>))</div>
<div class="line">                    )</div>
<div class="line">                .CentralizedHandler([](Windows::Foundation::IInspectable sender, <span class="keyword">auto</span>&amp;) {</div>
<div class="line">                    <span class="keyword">auto</span> mfi = sender.as&lt;Controls::MenuFlyoutItem&gt;();</div>
<div class="line">                    <span class="keyword">auto</span> x = mfi.Text();</div>
<div class="line">                    });</div>
<div class="ttc" id="anamespacecppxaml_html_a9e90daf79a70dbec5ad9370a8d4c841b"><div class="ttname"><a href="namespacecppxaml.html#a9e90daf79a70dbec5ad9370a8d4c841b">cppxaml::MenuFlyout</a></div><div class="ttdeci">auto MenuFlyout(TMenuFlyoutItemBase &amp;&amp;... items)</div><div class="ttdoc">Creates a MenuFlyout from a list of MenuFlyoutItems</div><div class="ttdef"><b>Definition:</b> Controls.h:660</div></div>
<div class="ttc" id="anamespacecppxaml_html_aae0f96500de5fef24821331713f3cf1f"><div class="ttname"><a href="namespacecppxaml.html#aae0f96500de5fef24821331713f3cf1f">cppxaml::FontIcon</a></div><div class="ttdeci">auto FontIcon(std::wstring_view icon)</div><div class="ttdoc">Creates a FontIcon from a string.</div><div class="ttdef"><b>Definition:</b> Controls.h:611</div></div>
<div class="ttc" id="anamespacecppxaml_html_af4fb029e27a18536dc26d82d5b79ae91"><div class="ttname"><a href="namespacecppxaml.html#af4fb029e27a18536dc26d82d5b79ae91">cppxaml::MenuFlyoutItem</a></div><div class="ttdeci">auto MenuFlyoutItem(std::wstring_view text)</div><div class="ttdoc">Creates a MenuFlyoutItem with the specified text.</div><div class="ttdef"><b>Definition:</b> Controls.h:635</div></div>
</div><!-- fragment --><h1><a class="anchor" id="facilities-for-using-xaml-islands"></a>
Facilities for using XAML Islands</h1>
<h2><a class="anchor" id="autotoc_md17"></a>
XamlWindow</h2>
<p ><code>XamlWindow</code> implements an HWND based host for XAML Islands. You can create a <code>XamlWindow</code> from one of three overloads of Make:</p>
<ol type="1">
<li>Host a build-time XAML <code>UIElement</code> (usually defined in a runtime component project, often will be a <code>Page</code>) API: <div class="fragment"><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> TUIElement&gt;</div>
<div class="line"><span class="keyword">static</span> XamlWindow&amp; Make(PCWSTR <span class="keywordtype">id</span>, AppController* controller = <span class="keyword">nullptr</span>);</div>
</div><!-- fragment --> Usage: <div class="fragment"><div class="line"><span class="keyword">auto</span>&amp; mainWindow = cppxaml::XamlWindow::Make&lt;MarkupSample::MainPage&gt;(L<span class="stringliteral">&quot;MarkupSample&quot;</span>, &amp;controller);</div>
</div><!-- fragment --></li>
<li>Host UI created from markup at runtime: API: <div class="fragment"><div class="line"><span class="keyword">static</span> XamlWindow&amp; Make(PCWSTR <span class="keywordtype">id</span>, std::wstring_view markup, AppController* c = <span class="keyword">nullptr</span>)</div>
</div><!-- fragment --> Usage: <div class="fragment"><div class="line"><span class="keyword">auto</span>&amp; xw = <a class="code hl_function" href="structcppxaml_1_1_xaml_window.html#a3cbafba7e86d51772aef97103987bf40">cppxaml::XamlWindow::Make</a>(L<span class="stringliteral">&quot;MyPage&quot;</span>, LR<span class="stringliteral">&quot;(</span></div>
<div class="line"><span class="stringliteral">  &lt;StackPanel&gt;</span></div>
<div class="line"><span class="stringliteral">    &lt;TextBlock&gt;Hello&lt;/TextBlock&gt;</span></div>
<div class="line"><span class="stringliteral">  &lt;/StackPanel&gt;)&quot;, &amp;controller);</span></div>
<div class="ttc" id="astructcppxaml_1_1_xaml_window_html_a3cbafba7e86d51772aef97103987bf40"><div class="ttname"><a href="structcppxaml_1_1_xaml_window.html#a3cbafba7e86d51772aef97103987bf40">cppxaml::XamlWindow::Make</a></div><div class="ttdeci">static XamlWindow &amp; Make(std::wstring_view id, AppController *controller=nullptr)</div><div class="ttdoc">Creates a window that hosts a XAML UI element.</div><div class="ttdef"><b>Definition:</b> XamlWindow.h:114</div></div>
</div><!-- fragment --></li>
<li>Host UI created programmatically at runtime: API: <div class="fragment"><div class="line"><span class="keyword">static</span> XamlWindow&amp; Make(PCWSTR <span class="keywordtype">id</span>, winrt::Windows::UI::Xaml::UIElement(*getUI)(<span class="keyword">const</span> XamlWindow&amp;), AppController* c = <span class="keyword">nullptr</span>);</div>
</div><!-- fragment --> Usage: <div class="fragment"><div class="line"><span class="keyword">auto</span>&amp; xw = <a class="code hl_function" href="structcppxaml_1_1_xaml_window.html#a3cbafba7e86d51772aef97103987bf40">cppxaml::XamlWindow::Make</a>(L<span class="stringliteral">&quot;Foo&quot;</span>, [](<span class="keyword">auto</span>&amp;...) { </div>
<div class="line">  <span class="keywordflow">return</span> winrt::Windows::UI::Xaml::Controls::Button(); </div>
<div class="line">});</div>
</div><!-- fragment --></li>
</ol>
<h3><a class="anchor" id="autotoc_md18"></a>
Parenting flyouts</h3>
<p >To parent a flyout or context menu, you may use one of the <code>InitializeWithWindow</code> methods:</p>
<ul>
<li>Initialize with a WinUI 3 <code>Window</code>-like object: <div class="fragment"><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> TWindow&gt;</div>
<div class="line">std::enable_if_t&lt;!std::is_assignable_v&lt;TWindow, cppxaml::XamlWindow*&gt;&gt; InitializeWithWindow(winrt::Windows::Foundation::IInspectable obj, TWindow <span class="comment">/*winrt::Microsoft::UI::Xaml::Window*/</span> w)</div>
</div><!-- fragment --></li>
<li>Initialize with an <code>HWND</code>: <div class="fragment"><div class="line"><span class="keywordtype">bool</span> InitializeWithWindow(cppxaml::xaml::FrameworkElement obj, HWND hwnd)</div>
</div><!-- fragment --></li>
<li>Initialize with a <code>XamlWindow</code>: <div class="fragment"><div class="line"><span class="keywordtype">void</span> InitializeWithWindow(cppxaml::xaml::FrameworkElement obj, <span class="keyword">const</span> <a class="code hl_struct" href="structcppxaml_1_1_xaml_window.html">cppxaml::XamlWindow</a>* xw)</div>
<div class="ttc" id="astructcppxaml_1_1_xaml_window_html"><div class="ttname"><a href="structcppxaml_1_1_xaml_window.html">cppxaml::XamlWindow</a></div><div class="ttdoc">Implements an HWND based host for XAML Islands. You can create a XamlWindow from one of three overloa...</div><div class="ttdef"><b>Definition:</b> XamlWindow.h:54</div></div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md19"></a>
AppController</h2>
<p ><code>AppController</code> is responsible for coordinating XamlWindow instances, can extend their wndproc, and provides an opportunity to hook up event handlers once a XAML UI becomes live </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
